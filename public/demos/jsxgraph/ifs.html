<html>
<head>
   <title>JSXGraph example</title>
   <link rel="stylesheet" type="text/css" href="jsxgraph.css" />
   <script type="text/javascript" src="../../javascripts/lib/prototype.js"></script>
   <script type="text/javascript" src="../../javascripts/jsxgraph/src/loadjsxgraph.js"></script>
</head>
<body>
      <h1>Farn</h1>
      <table border="0">
        <tr><td>
          <div id="box" class="jxgbox" style="width:500px; height:500px;"></div>
        </td>
        <td>next 100 iterations: <form><input type='button' value="Los!" onClick="ifs();"></form>
        </td>
        </tr>
      </table>    

      <script type="text/javascript">
        /* <![CDATA[ */
        board = JXG.JSXGraph.initBoard('box', {originX: 250, originY: 490, unitX: 5, unitY: 5});
        
        var p = board.createElement('point', [0,0], {style:10,labelcolor:'#FFFFFF00'});
        function ifs() {
            board.suspendUpdate();
            for(var i=1; i<= 100; i++) {
                var x = p.coords.usrCoords[1];
                var y = p.coords.usrCoords[2];
                var prob = Math.random();
                if(prob < 0.85) {
                    p = board.createElement('point', [0.85*x+0.04*y+0,-0.04*x+0.85*y+10.6], {style:10,labelcolor:'#FFFFFF00'});
                }
                else if(prob >= 0.85 && prob < 0.92) {
                    p = board.createElement('point', [0.2*x-0.26*y+0,0.23*x+0.22*y+10.6], {style:10,labelcolor:'#FFFFFF00'});
                }
                else if(prob >= 0.92 && prob < 0.99) {
                    p = board.createElement('point', [-0.15*x+0.28*y+0,0.26*x+0.24*y+4.4], {style:10,labelcolor:'#FFFFFF00'});
                }
                else {
                    p = board.createElement('point', [0*x+0*y+0,0*x+0.16*y+0], {style:10,labelcolor:'#FFFFFF00'});
                }
                //if(i==100) alert(x+' '+y);
            }
            board.unsuspendUpdate();
        }
        /* ]]> */
      </script>
</body>
</html>
